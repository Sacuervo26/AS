<nav class="w-full navbar px-4 md:px-8 flex flex-row justify-between fixed top-0 z-50 bg-[#F6B09C] shadow-black/20 shadow-md gap-x-20 lg:gap-x-20 text-black font-Montserrat" aria-label="Navegación principal">
    <!-- Logo con enlace a inicio -->
    <div class="navbar-start">
        <a href="/" aria-label="Ir a página de inicio">
            <div class="w-32 h-16 md:w-40 md:h-20 lg:w-48 lg:h-24 overflow-visible flex items-center">
                <img 
                    src="/LogoBlanco.png" 
                    alt="Logo de la empresa - Maquillaje profesional" 
                    class="w-full h-full object-contain"
                    loading="lazy">
            </div>
        </a> 
    </div>
    
    <!-- Menú desktop -->
    <div class="navbar-center hidden xl:flex max-xl:hidden">
        <ul class="menu menu-horizontal gap-1 lg:gap-1 whitespace-nowrap p-0 ">
            <li><a href="/" class="hover:bg-[#FFB4A2] hover:shadow-sm hover:text-white hover:font-semibold rounded-lg text-lg" aria-current="page">Inicio</a></li>
            
            <li>
                <details class="relative group">
                    <summary class="hover:bg-[#FFB4A2] hover:shadow-sm hover:text-white hover:font-semibold rounded-lg text-lg" aria-haspopup="true" aria-expanded="false">Maquillajes</summary>
                    <ul class="absolute right-0 p-2 rounded-lg whitespace-nowrap min-w-max shadow-black/60 shadow-lg bg-white text-sm" role="menu">
                        <li><a href="/MSocial" class="hover:bg-[#FFB4A2] px-4 py-2 w-full text-left" role="menuitem">Maquillaje Social</a></li>
                        <li><a href="/MQuince" class="hover:bg-[#FFB4A2] px-4 py-2 w-full text-left" role="menuitem">Maquillaje para Quinceañeras</a></li>
                        <li><a href="/MNovias" class="hover:bg-[#FFB4A2] px-4 py-2 w-full text-left" role="menuitem">Maquillaje para Novias</a></li>
                    </ul>
                </details>
            </li>
            
            <li><a href="/HPeinados" class="hover:bg-[#FFB4A2] hover:shadow-sm hover:text-white hover:font-semibold rounded-lg text-lg">Peinados</a></li>
            
            <li>
                <details class="relative group">
                    <summary class="hover:bg-[#FFB4A2] hover:shadow-sm hover:text-white hover:font-semibold rounded-lg text-lg" aria-haspopup="true" aria-expanded="false">La Escuela de Alma</summary>
                    <ul class="absolute right-0 p-2 rounded-lg whitespace-nowrap min-w-max shadow-black/60 shadow-lg bg-white text-sm" role="menu">
                        <li><a href="/HEscuelaDiplomados" class="hover:bg-[#FFB4A2] px-4 py-2 w-full text-left" role="menuitem">Diplomado y Especialización</a></li>
                        <li><a href="/HETalleres" class="hover:bg-[#FFB4A2] px-4 py-2 w-full text-left" role="menuitem">Talleres de Automaquillaje</a></li>
                        <li><a href="/HECursos" class="hover:bg-[#FFB4A2] px-4 py-2 w-full text-left" role="menuitem">Cursos de Maquillaje y Peinados</a></li>
                    </ul>
                </details>
            </li>
            
            <li><a href="/HNosotros" class="hover:bg-[#FFB4A2] hover:shadow-sm hover:text-white hover:font-semibold rounded-lg text-lg ">Sobre Nosotros</a></li>
            <li><a href="#contacto" class="hover:bg-[#FFB4A2] hover:shadow-sm hover:text-white hover:font-semibold rounded-lg text-lg ">Contacto</a></li>
        </ul>
    </div>
        
    <!-- Menú móvil -->
    <div class="navbar-end xl:hidden max-xl:flex">
        <input type="checkbox" id="mobile-menu-toggle" class="hidden">
        <label for="mobile-menu-toggle" class="btn btn-ghost px-2 cursor-pointer" aria-label="Menú móvil" aria-expanded="false" aria-controls="mobile-menu">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </label>
        <ul id="mobile-menu" class="absolute right-8 max-md:right-4 top-20 bg-white rounded-lg z-50 w-64 p-2 shadow-lg border border-[#E5989B] hidden flex-col">
            <li><a href="/" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Inicio</a></li>
            
            <li class="relative">
                <details class="mobile-submenu [&>summary::-webkit-details-marker]:hidden">
                    <summary class="hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md cursor-pointer relative flex justify-between items-center">
                        <span>Maquillajes</span>                        
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </summary>
                    <ul class="mt-1 ml-4 space-y-1 border-l-2 border-[#FFB4A2] pl-3">
                        <li><a href="/MSocial" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Maquillaje Social</a></li>
                        <li><a href="/MQuince" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Maquillaje para Quinceañeras</a></li>
                        <li><a href="/MNovias" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Maquillaje para Novias</a></li>
                    </ul>
                </details>
            </li>
            
            <li><a href="/HPeinados" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Peinados</a></li>
            
            <li class="relative">
                <details class="mobile-submenu [&>summary::-webkit-details-marker]:hidden">
                    <summary class="hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md cursor-pointer relative flex justify-between items-center">
                        <span>La Escuela de Alma</span>                        
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </summary>
                    <ul class="mt-1 ml-4 space-y-1 border-l-2 border-[#FFB4A2] pl-3">
                        <li><a href="/HEscuelaDiplomados" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Diplomado y Especialización</a></li>
                        <li><a href="/HETalleres" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Talleres de Automaquillaje</a></li>
                        <li><a href="/HECursos" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Cursos de Maquillaje y Peinados</a></li>
                    </ul>
                </details>
            </li>
            
            <li><a href="/HNosotros" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Sobre Nosotros</a></li>
            <li><a href="#contacto" class="block hover:bg-[#FFB4A2] px-4 py-2 text-black rounded-md">Contacto</a></li>
        </ul>
    </div>
</nav>

<style>
    #mobile-menu-toggle:checked ~ #mobile-menu {
        display: block;
    }
    /* Animación para la flecha */
    details[open] summary svg {
        transform: rotate(180deg);
    }
    /* Ocultar marcador nativo de Safari */
    details > summary::-webkit-details-marker {
        display: none;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
    // 1. Comportamiento para los submenús (desktop y móvil)
    const setupDetails = (selector: string) => {
        document.querySelectorAll<HTMLDetailsElement>(selector).forEach(detail => {
            detail.addEventListener('toggle', function() {
                if (this.open) {
                    document.querySelectorAll<HTMLDetailsElement>(selector).forEach(other => {
                        if (other !== this) other.open = false;
                    });
                }
            });
        });
    };

    setupDetails('.navbar-center details');
    setupDetails('#mobile-menu details');

    // 2. Cerrar menú móvil al hacer clic en enlace
    const mobileMenu = document.getElementById('mobile-menu');
    const mobileToggle = document.getElementById('mobile-menu-toggle');
    const mobileLinks = document.querySelectorAll<HTMLAnchorElement>('#mobile-menu a');

    // Verificación segura del tipo de elemento
    if (mobileMenu && mobileToggle && mobileLinks) {
        const checkbox = mobileToggle as HTMLInputElement;
        
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                checkbox.checked = false;
                mobileMenu.style.display = 'none';
            });
        });
    }
});
</script>